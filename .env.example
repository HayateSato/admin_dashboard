# ============================================================================
# Privacy Umbrella Admin Dashboard - Environment Configuration Template
# ============================================================================
# Copy this file to .env and fill in your actual values
# IMPORTANT: Never commit .env file to version control!

# ============================================================================
# Flask Application Settings
# ============================================================================
# Secret key for session management (REQUIRED - generate a strong random key!)
# Generate using: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-random-secret-key-in-production-use-secrets-token-hex-32

# Flask server host and port
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# Enable debug mode (NEVER use True in production!)
FLASK_DEBUG=False

# ============================================================================
# PostgreSQL Database Settings
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=privacy_umbrella
POSTGRES_USER=postgres

# REQUIRED: Set a strong password!
POSTGRES_PASSWORD=password_123

# ============================================================================
# InfluxDB Time-Series Database Settings (REMOTE INSTANCE)
# ============================================================================
# IMPORTANT: InfluxDB is hosted remotely - NO LOCAL SETUP NEEDED
# Remote InfluxDB server URL
INFLUX_URL=https://pu-influxdb.smarko-health.de/

# REQUIRED: InfluxDB authentication token
INFLUX_TOKEN=your_influxdb_token

# InfluxDB organization name
INFLUX_ORG='MCS Datalabs GmbH'

# InfluxDB buckets (already created on remote instance)
INFLUX_BUCKET_RAW=raw-data                   # when anonymization is disabled
INFLUX_BUCKET_ANON=anonymized-data           # when anonymization is enabled

# NOTE: INFLUX_ADMIN_USER, INFLUX_ADMIN_PASSWORD, and INFLUX_PORT are NOT needed
# for remote instance - only INFLUX_URL and INFLUX_TOKEN are required

# ============================================================================
# Federated Learning Server Settings
# ============================================================================
# FL gRPC server connection
FL_SERVER_HOST=localhost
FL_SERVER_PORT=50051

# Path to global model file (relative to dashboard directory)
FL_MODEL_PATH=../fl_server/global_model_latest.json

# ============================================================================
# MQTT Broker Settings
# ============================================================================
# MQTT broker connection (for remote anonymization commands)
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883

# MQTT topic prefix
MQTT_TOPIC_PREFIX=privacy

# ============================================================================
# Central Anonymization Settings
# ============================================================================
# Path to central anonymization script
CENTRAL_ANON_SCRIPT=../central_anonymization/central_anonymizer.py

# Output directory for anonymized data
ANON_OUTPUT_DIR=../central_anonymization/output

# ============================================================================
# Record Linkage Settings
# ============================================================================
# Path to record linkage script
RECORD_LINKAGE_SCRIPT=../record_linkage/main.py

# ============================================================================
# Logging Settings
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log directory path
LOG_DIR=logs

# ============================================================================
# Session Settings
# ============================================================================
# Session timeout in hours
SESSION_TIMEOUT_HOURS=8

# ============================================================================
# Docker-Specific Settings (Only needed for Docker Compose deployment)
# ============================================================================
# These override localhost values when using Docker Compose

# PostgreSQL (Docker)
# POSTGRES_HOST=postgres

# InfluxDB (Remote) - NO CHANGES NEEDED
# NOTE: InfluxDB URL remains https://pu-influxdb.smarko-health.de/ for both local and Docker

# MQTT Broker (Docker)
# MQTT_BROKER_HOST=mosquitto

# FL Server (Docker)
# FL_SERVER_HOST=fl_server

# ============================================================================
# Security Notes
# ============================================================================
# 1. Always use strong, unique passwords for all services
# 2. Change the default SECRET_KEY immediately
# 3. Never commit .env file to git (it's in .gitignore)
# 4. Rotate passwords and tokens regularly
# 5. Use environment-specific .env files (dev, staging, prod)
# 6. For production, consider using secrets management tools (e.g., HashiCorp Vault)

# ============================================================================
# Quick Setup Checklist
# ============================================================================
# [ ] Generate and set SECRET_KEY
# [ ] Set POSTGRES_PASSWORD
# [ ] Get INFLUX_TOKEN from Hayate (for remote InfluxDB instance)
# [ ] Verify remote InfluxDB connection (https://pu-influxdb.smarko-health.de/)
# [ ] Test PostgreSQL connection
# [ ] Test MQTT broker connection
# [ ] Verify FL server can start


